<div class="container mx-auto p-6 min-h-[77vh]">

	<div *ngIf="isLoggedIn(); else notLoggedIn">
	  <div *ngIf="cartRetrieved; else loadingCart">
		<h1 class="text-3xl font-bold mb-6">{{ 'CART.TITLE' | translate }}</h1>
		
		<div *ngIf="products.length > 0; else emptyCart">
		  <div class="grid grid-cols-1 gap-6">
			<div *ngFor="let product of products" class="flex items-center space-x-6 border-b pb-4">
			  <img [src]="product.image" alt="{{ product.name }}" class="w-24 h-24 object-cover rounded-lg">
  
			  <div class="flex-1">
				<h2 class="text-lg font-semibold">{{ product.name }}</h2>
				<p class="text-sm text-gray-500">{{ product.description }}</p>
				<p class="text-md font-bold">{{ product.price }} {{ product.currency }}</p>
  
				<div class="mt-4 flex items-center space-x-4">
				  <label for="quantity" class="text-sm font-medium text-gray-600">{{ 'CART.QUANTITY' | translate }}</label>
				  <input
					id="quantity"
					type="number"
					class="w-16 text-center border rounded-md"
					[value]="cartQuantityMap[product.id]"
					min="1"
					(input)="updateQuantity(product.id, $event)"
				  />
				</div>
			  </div>
  
			  <button
				(click)="removeProduct(product.id)"
				class="px-4 py-2 bg-red-600 text-white font-medium rounded-md hover:bg-red-700 transition-colors duration-300">
				{{ 'CART.REMOVE' | translate }}
				</button>
			</div>
		  </div>
		</div>
  
		<ng-template #emptyCart>
		  <div class="text-center mt-12">
			<h2 class="text-xl font-semibold text-gray-600">{{ 'CART.EMPTY_MESSAGE' | translate }}</h2>
			<a
			  routerLink="/shop"
			  class="inline-block mt-6 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-500 transition-colors"
			>
			  {{ 'CART.SHOP_NOW' | translate }}
			</a>
		  </div>
		</ng-template>
	  </div>

	<ng-template #loadingCart>
		<div class="text-center mt-12">
		  <p class="text-lg text-gray-600">{{ 'CART.LOADING' | translate }}</p>
		</div>
	  </ng-template>
	</div>

	<ng-template #notLoggedIn>
	  <div class="text-center mt-12">
		<h2 class="text-2xl font-semibold text-gray-600">{{ 'CART.LOGIN_REQUIRED' | translate }}</h2>
		<p class="text-lg text-gray-500 mt-4">{{ 'CART.LOGIN_PROMPT' | translate }}</p>
		<a
		  routerLink="/login"
		  class="inline-block mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors"
		>
		  {{ 'CART.LOGIN_NOW' | translate }}
		</a>
	  </div>
	</ng-template>
  </div>
  